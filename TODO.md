# Что осталось реализовать в Bomberman

## ✅ Уже реализовано

### 1. Подключение к игре
- ✅ UI для подключения (ConnectView)
- ✅ Выбор роли (игрок/наблюдатель)
- ✅ Ввод имени
- ⚠️ Реальное подключение через WebSocket (сейчас только заглушка)

### 2. Игровая комната (Лобби)
- ✅ Отображение списка игроков (LobbyPlayersListView)
- ✅ Отображение статусов игроков (готов/не готов)
- ✅ Изменение статуса готовности (toggleReady)
- ❌ Сообщение о начале раунда (нет уведомления в лобби)

### 3. Интерфейс раунда
- ✅ Отображение оставшегося времени раунда (RoundHUDView)
- ✅ Сообщения о победе/ничье/поражении
- ✅ Возврат в лобби после завершения раунда
- ⚠️ Обработка фазы countdown (есть в модели, но не используется)

---

## ❌ Что нужно реализовать

### 1. Реальное сетевое подключение
- [ ] Интеграция WebSocket для подключения к серверу
- [ ] Обработка сообщений от сервера (join, ready, game_state, etc.)
- [ ] Отправка команд на сервер (движение, установка бомбы)
- [ ] Обработка ошибок подключения

### 2. Игровое поле (GameSceneView - сейчас только заглушка)
- [ ] Реализация рендеринга карты с использованием SpriteKit
- [ ] Отображение неразрушаемых стен
- [ ] Отображение разрушаемых стен
- [ ] Отображение пустых клеток
- [ ] Отображение бомб в реальном времени
- [ ] Отображение позиций всех игроков в реальном времени
- [ ] Анимации взрывов (кратковременные)
- [ ] Обновление состояния карты в реальном времени (синхронизация с сервером)

### 3. Управление персонажем
- [ ] Обработка жестов/кнопок для перемещения в 4 направления (вверх, вниз, влево, вправо)
- [ ] Проверка доступности клеток для перемещения
- [ ] Обработка установки бомбы (жест/кнопка)
- [ ] Ограничение на количество одновременно установленных бомб (если требуется)
- [ ] Отправка команд движения и установки бомбы на сервер

### 4. Модели данных для игры
- [ ] Модель карты (Map/GameMap)
- [ ] Модель клетки (Cell/Tile) с типами: пустая, неразрушаемая стена, разрушаемая стена
- [ ] Модель бомбы (Bomb) с позицией и временем до взрыва
- [ ] Модель взрыва (Explosion) с позицией и анимацией
- [ ] Модель игрока на поле (PlayerPosition) с координатами и направлением
- [ ] Модель состояния игры (GameState) для синхронизации

### 5. Логика игры
- [ ] Обработка начала раунда (переход из лобби в игру)
- [ ] Обработка фазы countdown перед началом раунда
- [ ] Автоматическое определение результата раунда:
  - [ ] Победа (остался один выживший)
  - [ ] Поражение (игрок взорвался)
  - [ ] Ничья (время истекло, несколько выживших)
- [ ] Обработка смерти игрока (взрыв)
- [ ] Обработка разрушения стен бомбами

### 6. UI улучшения
- [ ] Сообщение в лобби о начале раунда (например, "Раунд начинается через 3... 2... 1...")
- [ ] Визуальная индикация фазы countdown
- [ ] UI элементы управления (кнопки направления или жесты свайпа)
- [ ] Кнопка установки бомбы
- [ ] Визуальная индикация собственного персонажа на карте

### 7. Дополнительно (опционально)
- [ ] Звуковые эффекты (взрывы, шаги)
- [ ] Визуальные эффекты (частицы при взрыве)
- [ ] Оптимизация производительности для больших карт
- [ ] Поддержка разных размеров экранов

---

## Приоритеты реализации

### Высокий приоритет (критично для работы игры):
1. Модели данных для игры (карта, бомбы, игроки)
2. Рендеринг игрового поля (SpriteKit)
3. Управление персонажем (движение + установка бомбы)
4. Сетевое подключение (WebSocket)

### Средний приоритет:
5. Анимации взрывов
6. Обработка логики игры (результаты раунда)
7. Сообщение о начале раунда

### Низкий приоритет:
8. UI улучшения
9. Звуки и эффекты

